"use strict";(self["webpackChunkcouple_find_number"]=self["webpackChunkcouple_find_number"]||[]).push([[327],{130:function(e,t,a){a.d(t,{A:function(){return c}});var n=a(641),s=a(33);const o=(0,n.Fv)('<svg data-v-4402d0a2><g data-v-4402d0a2><path d="M 50,100 A 1,1 0 0 1 50,0" data-v-4402d0a2></path></g><g data-v-4402d0a2><path d="M 50,75 A 1,1 0 0 0 50,-25" data-v-4402d0a2></path></g><defs data-v-4402d0a2><linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-4402d0a2><stop offset="0%" style="stop-color:#50b850;stop-opacity:1;" data-v-4402d0a2></stop><stop offset="100%" style="stop-color:#4541be;stop-opacity:1;" data-v-4402d0a2></stop></linearGradient></defs></svg>',1),i=[o];function r(e,t,a,o,r,d){return(0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["loader_container",{reduced:a.reduced}])},i,2)}var d={name:"LoaderComponent",props:{reduced:Boolean}},l=a(262);const u=(0,l.A)(d,[["render",r],["__scopeId","data-v-4402d0a2"]]);var c=u},21:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var n=a(641),s=a(33),o=a(751);const i=e=>((0,n.Qi)("data-v-81ae585a"),e=e(),(0,n.jt)(),e),r={class:"selection_container"},d={key:1},l={class:"input_container"},u=i((()=>(0,n.Lk)("span",{class:"material-symbols-rounded"}," casino ",-1))),c=[u];function p(e,t,a,i,u,p){const h=(0,n.g2)("LoaderComponent");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",{class:(0,s.C4)(["loader_container",{loading:!u.playerHasSelected}])},[u.playerHasSelected?((0,n.uX)(),(0,n.CE)("h3",d,"The Other Player Has Already Selected")):((0,n.uX)(),(0,n.Wv)(h,{key:0}))],2),(0,n.Lk)("div",l,[(0,n.bo)((0,n.Lk)("input",{autofocus:"",onKeydown:t[0]||(t[0]=(...e)=>p.eraser&&p.eraser(...e)),onKeypress:t[1]||(t[1]=(...e)=>p.writer&&p.writer(...e)),id:"number_chooser",maxlength:"4",placeholder:"Type Your Number",ref:"input",type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>u.inputValue=e)},null,544),[[o.Jo,u.inputValue]]),(0,n.Lk)("div",{onClick:t[3]||(t[3]=(0,o.D$)(((...e)=>p.randomNumber&&p.randomNumber(...e)),["stop"])),class:"random btn"},c)]),(0,n.Lk)("div",{onClick:t[4]||(t[4]=(0,o.D$)(((...e)=>p.sendNumber&&p.sendNumber(...e)),["stop"])),class:"next btn"},"Next")])}var h=a(808),m=a(130),v={beforeUnmount(){this.safeChange||(this.socket.emit("game_abbandoned"),this.$router.replace({name:"start"}))},components:{LoaderComponent:m.A},created(){this.socket=h.A},data(){return{inputValue:"",playerHasSelected:!1,socket:null,safeChange:!1}},methods:{request(){this.$refs.input.disabled=!0,this.socket.emit("select_number",this.inputValue,(({status:e})=>{200===e?(this.safeChange=!0,this.$router.replace({name:"game"})):(this.invalidToast(),this.$refs.input.disabled=!1,this.$refs.input.focus())}))},randomNumber(){if(!0===this.$refs.input.disabled)return;this.inputValue="";let e="0123456789".split("");while(this.inputValue.length<4){let t=Math.floor(Math.random()*e.length);this.inputValue+=e[t],e=e.slice(0,t).concat(e.slice(t+1,e.length))}},writer(e){e.stopPropagation(),e.preventDefault(),this.inputValue=String(this.inputValue);const{charCode:t,key:a}=e;47<t&&t<58&&!this.inputValue.includes(a)&&this.inputValue.length<4&&(this.inputValue+=a)},eraser(e){8===e.keyCode&&(e.stopPropagation(),e.preventDefault(),this.inputValue=this.inputValue.slice(0,this.inputValue.length-1))},invalidToast(){const e=document.getElementById("app").querySelector(".toast");e&&e.remove();const t=document.createElement("div");t.classList.add("toast"),t.innerHTML='\n\t\t\t\t<span class="material-symbols-rounded toast_icon">cancel</span>\n\t\t\t\t<h3 class="toast_text">Invalid Number</h3>\n\t\t\t\t<div class="toast_timer"></div>\n\t\t\t',document.getElementById("app").appendChild(t),t.style.left=document.getElementById("app").offsetWidth/2-t.offsetWidth/2+"px",setTimeout((()=>{t.remove()}),1500)},sendNumber(){4!==this.inputValue.length?this.invalidToast():this.request()}},mounted(){this.socket.on("member_disconnected",(()=>{this.$router.replace({name:"start"})})),this.socket.on("player_has_selected",(()=>this.playerHasSelected=!0))},name:"SelectionComponent"},f=a(262);const b=(0,f.A)(v,[["render",p],["__scopeId","data-v-81ae585a"]]);var y=b}}]);
//# sourceMappingURL=selection_component.695429f5.js.map